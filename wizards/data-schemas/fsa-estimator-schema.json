{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "FSA Student Aid Estimator - User Data",
  "description": "User data required to execute the FSA Student Aid Estimator wizard and calculate federal student aid eligibility",
  "type": "object",
  "required": [
    "birth_month",
    "birth_day",
    "birth_year",
    "marital_status",
    "state",
    "grade_level",
    "has_dependents",
    "personal_circumstances",
    "parents_married",
    "parent_marital_status",
    "parent_state",
    "family_size",
    "parent_filed_taxes",
    "student_filed_taxes"
  ],
  "properties": {
    "birth_month": {
      "type": "string",
      "description": "Student's birth month (2 digits: 01-12)",
      "pattern": "^(0[1-9]|1[0-2])$",
      "examples": [
        "05",
        "11"
      ]
    },
    "birth_day": {
      "type": "string",
      "description": "Student's birth day (2 digits: 01-31)",
      "pattern": "^(0[1-9]|[12][0-9]|3[01])$",
      "examples": [
        "15",
        "28"
      ]
    },
    "birth_year": {
      "type": "string",
      "description": "Student's birth year (4 digits)",
      "pattern": "^[0-9]{4}$",
      "examples": [
        "2007",
        "2006"
      ]
    },
    "marital_status": {
      "type": "string",
      "description": "Student's marital status",
      "enum": [
        "unmarried",
        "married",
        "separated"
      ],
      "examples": [
        "unmarried"
      ]
    },
    "state": {
      "type": "string",
      "description": "Student's state of legal residence (full state name, e.g., 'Illinois', 'California')",
      "examples": [
        "Illinois",
        "California",
        "Texas"
      ]
    },
    "grade_level": {
      "type": "string",
      "description": "Student's grade level for the 2026-27 school year",
      "enum": [
        "freshman",
        "sophomore",
        "other",
        "graduate"
      ],
      "examples": [
        "freshman"
      ]
    },
    "has_dependents": {
      "type": "string",
      "description": "Does the student have children or other dependents that they support?",
      "enum": [
        "yes",
        "no"
      ],
      "examples": [
        "no"
      ]
    },
    "personal_circumstances": {
      "type": "string",
      "description": "Student's personal circumstances (active duty military/veteran, orphan, foster care, emancipated minor, homeless, or none of these)",
      "enum": [
        "active_duty",
        "orphan",
        "foster_care",
        "emancipated",
        "homeless",
        "none"
      ],
      "examples": [
        "none"
      ]
    },
    "parents_married": {
      "type": "string",
      "description": "Are the student's parents married?",
      "enum": [
        "yes",
        "no"
      ],
      "examples": [
        "yes"
      ]
    },
    "parent_marital_status": {
      "type": "string",
      "description": "Parent's marital status (usually pre-filled based on parents_married answer)",
      "enum": [
        "married",
        "unmarried",
        "unmarried_together"
      ],
      "examples": [
        "married"
      ]
    },
    "parent_state": {
      "type": "string",
      "description": "Parent's state of residence (full state name)",
      "examples": [
        "Illinois",
        "New York",
        "Florida"
      ]
    },
    "family_size": {
      "type": "string",
      "description": "Total number of people in the student's family, including the student",
      "pattern": "^[0-9]+$",
      "examples": [
        "4",
        "3",
        "5"
      ]
    },
    "parent_filed_taxes": {
      "type": "string",
      "description": "Did the student's parent file taxes in 2024?",
      "enum": [
        "yes",
        "no"
      ],
      "examples": [
        "yes"
      ]
    },
    "parent_income": {
      "type": "string",
      "description": "Parent's adjusted gross income (if parent filed taxes). Enter dollar amount without commas or dollar sign.",
      "pattern": "^[0-9]+$",
      "examples": [
        "85000",
        "65000",
        "120000"
      ]
    },
    "parent_assets": {
      "type": "string",
      "description": "Parent's total assets including cash, savings, checking accounts, net worth of businesses/farms, and investments excluding primary home (if parent filed taxes). Enter dollar amount without commas or dollar sign.",
      "pattern": "^[0-9]+$",
      "examples": [
        "12000",
        "25000",
        "0"
      ]
    },
    "parent_child_support": {
      "type": "string",
      "description": "Annual child support received by parent (if parent filed taxes). Enter '0' if none received. Enter dollar amount without commas or dollar sign.",
      "pattern": "^[0-9]+$",
      "examples": [
        "0",
        "5000",
        "12000"
      ]
    },
    "student_filed_taxes": {
      "type": "string",
      "description": "Did the student file taxes in 2024?",
      "enum": [
        "yes",
        "no"
      ],
      "examples": [
        "no"
      ]
    },
    "student_income": {
      "type": "string",
      "description": "Student's adjusted gross income (if student filed taxes). Enter dollar amount without commas or dollar sign.",
      "pattern": "^[0-9]+$",
      "examples": [
        "5000",
        "0"
      ]
    },
    "student_assets": {
      "type": "string",
      "description": "Student's total assets (if student filed taxes). Enter dollar amount without commas or dollar sign.",
      "pattern": "^[0-9]+$",
      "examples": [
        "1000",
        "0"
      ]
    }
  },
  "dependencies": {
    "parent_filed_taxes": {
      "oneOf": [
        {
          "properties": {
            "parent_filed_taxes": {
              "enum": [
                "yes"
              ]
            }
          },
          "required": [
            "parent_income",
            "parent_assets",
            "parent_child_support"
          ]
        },
        {
          "properties": {
            "parent_filed_taxes": {
              "enum": [
                "no"
              ]
            }
          }
        }
      ]
    },
    "student_filed_taxes": {
      "oneOf": [
        {
          "properties": {
            "student_filed_taxes": {
              "enum": [
                "yes"
              ]
            }
          },
          "required": [
            "student_income",
            "student_assets"
          ]
        },
        {
          "properties": {
            "student_filed_taxes": {
              "enum": [
                "no"
              ]
            }
          }
        }
      ]
    }
  }
}